/* Typography: Work Sans (UI), Lora (sacred moments), Inconsolata (numbers) */
@import url("https://fonts.googleapis.com/css2?family=Lora:wght@400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;600&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;500&display=swap");
@import url("https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap");
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* REFERENCE PALETTE (Primitive Tokens) */
    --ref-neutral-0: 0 0% 100%;
    --ref-neutral-50: 40 20% 97%;
    --ref-neutral-100: 38 25% 99%;
    --ref-neutral-200: 38 20% 95%;
    --ref-neutral-300: 35 15% 85%;
    --ref-neutral-500: 35 10% 55%;
    --ref-neutral-700: 35 12% 28%;
    --ref-neutral-900: 35 10% 9%;

    /* SEMANTIC TOKENS */
    /* Warm neutrals with subtle yellow/brown undertone */
    --background: var(--ref-neutral-50);
    --foreground: var(--ref-neutral-900);

    --card: 38 25% 99%;
    --card-foreground: 35 10% 9%;

    --popover: 38 20% 95%;
    --popover-foreground: 35 10% 9%;

    --primary: 161 93% 24%;
    /* Darkened from 30% for 4.5:1 text contrast */
    --primary-foreground: 151 80% 95%;

    --secondary: 35 8% 32%;
    --secondary-foreground: 38 20% 98%;

    /* Text hierarchy - WCAG 2.2 AA compliant (4.5:1 minimum) */
    --muted: 38 20% 96%;
    --muted-foreground: 35 12% 28%;
    /* Fixed: 5.5:1 ratio (was 3.5:1) */

    /* Section headers - Enhanced contrast */
    --section-header: 35 10% 25%;
    /* 7:1 ratio for small caps */

    --accent: 166 76% 96%;
    --accent-foreground: 173 80% 40%;

    --destructive: 0 72% 45%;
    /* Darkened from 50% for 4.5:1 text contrast */
    --destructive-foreground: 0 85% 97%;
    --text-destructive: 0 72% 40%;
    /* Semantic token for red text (AAA compliant) */

    /* Tertiary: Antique Gold - Darkened for accessible text usage */
    --tertiary: 42 90% 25%;
    --tertiary-foreground: 40 60% 95%;

    /* Success: Warm green for positive outcomes */
    --success: 145 65% 42%;
    --success-foreground: 145 80% 98%;

    /* Container Tokens (Systemic Contrast Safety) */
    /* Tertiary Container */
    --tertiary-container: 40 20% 96%;
    --on-tertiary-container: 42 90% 20%;

    /* Primary Container */
    --primary-container: 158 30% 96%;
    --on-primary-container: 161 93% 20%;

    /* Success Container */
    --success-container: 145 30% 96%;
    --on-success-container: 145 80% 20%;

    /* M3 Surface Container Hierarchy */
    --surface-container-lowest: 38 30% 100%;
    --surface-container-low: 38 25% 98%;
    --surface-container: 40 20% 96%;
    --surface-container-high: 38 18% 94%;
    --surface-container-highest: 38 15% 92%;

    --border: 35 15% 85%;
    --input: 35 15% 85%;
    --ring: 161 93% 30%;

    --radius: 1rem;
    --radius-lg: 1.5rem;
    --radius-xl: 2rem;

    --sidebar-background: 38 25% 98%;
    --sidebar-foreground: 35 10% 9%;
    --sidebar-primary: 161 93% 30%;
    --sidebar-primary-foreground: 151 80% 95%;
    --sidebar-accent: 35 8% 32%;
    --sidebar-accent-foreground: 38 20% 98%;
    --sidebar-border: 35 15% 85%;
    --sidebar-ring: 161 93% 30%;

    --chart-1: 158 64% 51%;
    /* Sage (Primary) */
    --chart-2: 215 50% 50%;
    /* Antique Blue (Investments) */
    --chart-3: 260 40% 55%;
    /* Dusty Purple (Retirement) */
    --chart-4: 150 60% 45%;
    /* Deep Emerald (Cash) */
    --chart-5: 35 80% 50%;
    /* Gold (Crypto) */

    --sidebar: 38 25% 98%;

    --font-sans: 'Work Sans', ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif;
    --font-serif: 'Lora', ui-serif, Georgia, Cambria, 'Times New Roman', Times, serif;
    --font-mono: 'Inconsolata', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', 'Courier New', monospace;

    /* Brand gradient for hero elements */
    --gradient-brand: linear-gradient(135deg, hsl(200 60% 35%), hsl(145 70% 45%));

    --shadow-2xs: 0 1px 3px 0px hsl(35 20% 0% / 0.05);
    --shadow-xs: 0 1px 3px 0px hsl(35 20% 0% / 0.05);
    --shadow-sm: 0 1px 3px 0px hsl(35 20% 0% / 0.1), 0 1px 2px -1px hsl(35 20% 0% / 0.1);
    --shadow: 0 1px 3px 0px hsl(35 20% 0% / 0.1), 0 1px 2px -1px hsl(35 20% 0% / 0.1);
    --shadow-md: 0 4px 6px -1px hsl(35 20% 0% / 0.1), 0 2px 4px -2px hsl(35 20% 0% / 0.1);
    --shadow-lg: 0 10px 15px -3px hsl(35 20% 0% / 0.1), 0 4px 6px -4px hsl(35 20% 0% / 0.1);
    --shadow-xl: 0 20px 25px -5px hsl(35 20% 0% / 0.1), 0 8px 10px -6px hsl(35 20% 0% / 0.1);
    --shadow-2xl: 0 25px 50px -12px hsl(35 20% 0% / 0.25);
    --shadow-float: 0 8px 30px hsl(35 20% 0% / 0.12);
    --shadow-elevated: 0 12px 40px hsl(35 20% 0% / 0.15);

    --tracking-normal: 0em;
    --spacing: 0.25rem;

    --duration-fast: 150ms;
    --duration-normal: 250ms;
    --duration-slow: 400ms;
  }

  .dark {
    /* SYSTEM DESIGN: Dark Mode v2 */
    /* Based on Relative Luminance. Target Contrast: > 4.5:1 for Text */

    /* 1. Base Surfaces (Warm Dark Grey) */
    /* Reduced saturation to prevent muddy browns, kept lightness < 15% */
    --background: 30 8% 9%;
    --foreground: 35 8% 90%;
    /* Off-white (15:1 contrast) */

    --card: 32 10% 14%;
    /* Slightly elevated surface */
    --card-foreground: 35 8% 90%;

    --popover: 30 12% 18%;
    /* Highest surface */
    --popover-foreground: 35 8% 90%;

    /* 2. Brand Colors */

    /* Primary: Antique Sage (Organic, muted) */
    /* Lightness 60% -> Readable against 9% bg (~6:1) */
    --primary: 158 40% 60%;
    /* On-Primary: Deep Jungle Ink (not pure black) */
    --primary-foreground: 158 50% 5%;

    /* Secondary: Surface Container Highest */
    /* Lightness 25% for backgrounds -> supports 90% text (9:1) */
    --secondary: 35 8% 25%;
    --secondary-foreground: 35 8% 90%;

    /* Tertiary: Old Gold (Metallic, not neon) */
    /* Lightness 65% -> Readable on dark (~6:1) */
    --tertiary: 45 60% 65%;
    --tertiary-foreground: 40 20% 10%;

    /* 3. Text & Interaction Hierarchy */

    /* Muted: Subtle Separator */
    --muted: 35 8% 15%;
    --muted-foreground: 35 8% 70%;

    /* Section headers */
    --section-header: 35 8% 80%;

    --accent: 178 84% 10%;
    --accent-foreground: 172 66% 50%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 85% 5%;

    /* Success: Warm green */
    --success: 145 60% 50%;
    --success-foreground: 145 80% 5%;

    /* Container Tokens - Dark */
    --tertiary-container: 40 20% 16%;
    --on-tertiary-container: 40 60% 90%;

    --primary-container: 158 30% 16%;
    --on-primary-container: 158 85% 90%;

    --success-container: 145 30% 16%;
    --on-success-container: 145 60% 90%;

    /* 4. M3 Surface Containers - Dark */
    --surface-container-lowest: 30 10% 6%;
    --surface-container-low: 30 10% 10%;
    --surface-container: 30 8% 14%;
    --surface-container-high: 32 8% 18%;
    --surface-container-highest: 32 8% 22%;

    /* 5. Utility Colors */
    --border: 35 10% 25%;
    --input: 35 10% 25%;
    --ring: 158 85% 75%;
    /* Matches Primary */

    /* Sidebar - Matches Surfaces */
    --sidebar-background: 30 10% 10%;
    --sidebar-foreground: 35 8% 90%;
    --sidebar-primary: 158 85% 75%;
    --sidebar-primary-foreground: 158 100% 5%;
    --sidebar-accent: 35 8% 25%;
    --sidebar-accent-foreground: 35 8% 90%;
    --sidebar-border: 35 10% 25%;
    --sidebar-ring: 158 85% 75%;

    /* Charts (Optimized for Dark) */
    --chart-1: 158 85% 75%;
    /* Sage */
    --chart-2: 215 80% 75%;
    /* Antique Blue */
    --chart-3: 260 70% 75%;
    /* Dusty Purple */
    --chart-4: 150 80% 70%;
    /* Emerald */
    --chart-5: 35 90% 65%;
    /* Gold */

    --sidebar: 32 10% 14%;

    /* Shadows (Darker intensity) */
    --shadow-2xs: 0 1px 3px 0px hsl(0 0% 0% / 0.5);
    --shadow-xs: 0 1px 3px 0px hsl(0 0% 0% / 0.5);
    --shadow-sm: 0 1px 3px 0px hsl(0 0% 0% / 0.6), 0 1px 2px -1px hsl(0 0% 0% / 0.6);
    --shadow: 0 1px 3px 0px hsl(0 0% 0% / 0.6), 0 1px 2px -1px hsl(0 0% 0% / 0.6);
    --shadow-md: 0 1px 3px 0px hsl(0 0% 0% / 0.6), 0 2px 4px -1px hsl(0 0% 0% / 0.6);
    --shadow-lg: 0 1px 3px 0px hsl(0 0% 0% / 0.6), 0 4px 6px -1px hsl(0 0% 0% / 0.6);
    --shadow-xl: 0 1px 3px 0px hsl(0 0% 0% / 0.6), 0 8px 10px -1px hsl(0 0% 0% / 0.6);
    --shadow-2xl: 0 1px 3px 0px hsl(0 0% 0% / 0.7);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }
}